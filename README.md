# Sistema de Gerenciamento Escolar Infantil

## Estrutura do Projeto

### Diagramas
O projeto inclui os seguintes diagramas na pasta # Sistema de Gerenciamento Escolar Infantil

## üìÅ Reposit√≥rio do Projeto
**Para acessar o c√≥digo completo e fazer download dos arquivos, visite:**
üëâ **[https://github.com/yagocanton21/Projeto-Faculdade](https://github.com/yagocanton21/Projeto-Faculdade)**

### Como clonar o reposit√≥rio usando o VS Code:
1. Abra o VS Code
2. Pressione `Ctrl+Shift+P` para abrir a paleta de comandos
3. Digite "Git: Clone" e selecione esta op√ß√£o
4. Cole a URL: `https://github.com/yagocanton21/Projeto-Faculdade.git`
5. Escolha uma pasta no seu computador para salvar o projeto

---

## Estrutura do Projeto

### Diagramas
O projeto inclui os seguintes diagramas na pasta `docs/`:
- **Modelo Entidade-Relacionamento (MER)**: `docs/Mer.png` - Representa as entidades do sistema e seus relacionamentos
- **Diagrama de Fluxo de Dados (DFD)**: `docs/DFD.png` - Ilustra o fluxo de dados entre os componentes do sistema

### Estrutura de Diret√≥rios
```
projeto-faculdade/
‚îú‚îÄ‚îÄ app/                    # C√≥digo fonte da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ config/             # Configura√ß√µes da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.config.js    # Configura√ß√£o de conex√£o com o banco de dados
‚îÇ   ‚îú‚îÄ‚îÄ controllers/        # Controladores da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ aluno.controller.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matricula.controller.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nota.controller.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ presenca.controller.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ professor.controller.js
‚îÇ   ‚îú‚îÄ‚îÄ models/             # Modelos de dados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ aluno.model.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matricula.model.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nota.model.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ presenca.model.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ professor.model.js
‚îÇ   ‚îú‚îÄ‚îÄ routes/             # Rotas da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ aluno.routes.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matricula.routes.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nota.routes.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ presenca.routes.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ professor.routes.js
‚îÇ   ‚îî‚îÄ‚îÄ index.js            # Ponto de entrada da aplica√ß√£o
‚îú‚îÄ‚îÄ docs/                   # Documenta√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ DFD.png             # Diagrama de Fluxo de Dados
‚îÇ   ‚îî‚îÄ‚îÄ Mer.png             # Modelo Entidade-Relacionamento
‚îú‚îÄ‚îÄ .env                    # Vari√°veis de ambiente
‚îú‚îÄ‚îÄ docker-compose.yml      # Configura√ß√£o do Docker Compose
‚îú‚îÄ‚îÄ Dockerfile              # Dockerfile para a aplica√ß√£o Node.js
‚îú‚îÄ‚îÄ Dockerfile.db           # Dockerfile para o banco de dados MySQL
‚îú‚îÄ‚îÄ Dockerfile.nginx        # Dockerfile para o servidor Nginx
‚îú‚îÄ‚îÄ init.sql                # Script SQL para inicializa√ß√£o do banco de dados
‚îú‚îÄ‚îÄ nginx.conf              # Configura√ß√£o do Nginx
‚îú‚îÄ‚îÄ package.json            # Depend√™ncias do Node.js
‚îî‚îÄ‚îÄ README.md               # Este arquivo
```

### Arquivos Docker
- **Dockerfile**: Configura o ambiente Node.js para a aplica√ß√£o backend
- **Dockerfile.db**: Configura o banco de dados MySQL com o script de inicializa√ß√£o
- **Dockerfile.nginx**: Configura o servidor Nginx como proxy reverso
- **docker-compose.yml**: Orquestra todos os containers (app, db, nginx)

## Requisitos para Execu√ß√£o

1. **Instalar o VS Code**
   - Baixe em: https://code.visualstudio.com/download
   - Instale seguindo as instru√ß√µes na tela
   - Extens√µes recomendadas (opcional):
     - Docker: Para gerenciar containers
     - REST Client: Para testar APIs diretamente no VS Code
     - Thunder Client: Alternativa ao Postman dentro do VS Code

2. **Instalar o Docker Desktop**
   - Baixe em: https://www.docker.com/products/docker-desktop
   - Instale seguindo as instru√ß√µes na tela (Pr√≥ximo, Pr√≥ximo, Concluir)
   - Reinicie o computador ap√≥s a instala√ß√£o
   - Abra o Docker Desktop e aguarde at√© que o √≠cone da baleia fique est√°vel (sem anima√ß√£o)

## Instru√ß√µes de Execu√ß√£o

### PASSO 1: Baixar os arquivos
- Baixe todos os arquivos deste projeto para seu computador
- Descompacte em uma pasta de f√°cil acesso (exemplo: C:\Projeto ou Desktop)

### PASSO 2: Abrir o projeto no VS Code
- Abra o VS Code
- Clique em "File" > "Open Folder" (ou pressione Ctrl+K Ctrl+O)
- Navegue at√© a pasta do projeto e clique em "Selecionar pasta"

### PASSO 3: Iniciar a aplica√ß√£o pelo terminal do VS Code
- No VS Code, abra o terminal clicando em "Terminal" > "New Terminal" (ou pressione Ctrl+`)
- No terminal que aparece na parte inferior, digite o comando:
  ```
  docker-compose up -d --build
  ```
- Aguarde alguns minutos at√© que tudo seja instalado e iniciado

### Verifica√ß√£o da Instala√ß√£o
1. Abra seu navegador (Chrome, Firefox, Edge, etc.)
2. Digite na barra de endere√ßo: http://localhost/api
3. Voc√™ deve ver uma mensagem como esta:
   ```
   {"message":"API do Sistema de Gerenciamento Escolar Infantil","status":"online"}
   ```

## Arquitetura do Sistema

### Backend (Node.js + Express)
- Implementa uma API RESTful seguindo o padr√£o MVC
- Utiliza Express.js para gerenciamento de rotas
- Conex√£o com MySQL usando bibliotecas nativas

### Banco de Dados (MySQL)
- Armazena dados de alunos, professores, matr√≠culas, notas e presen√ßas
- Implementa relacionamentos conforme definido no MER
- Inicializado com dados de exemplo para demonstra√ß√£o

### Proxy Reverso (Nginx)
- Gerencia requisi√ß√µes HTTP
- Encaminha solicita√ß√µes para o servi√ßo Node.js
- Melhora a seguran√ßa e o desempenho da aplica√ß√£o

## Documenta√ß√£o da API

### Endpoints Dispon√≠veis

#### Alunos
- `GET /api/alunos` - Lista todos os alunos
- `GET /api/alunos/:id` - Busca um aluno pelo ID
- `POST /api/alunos` - Cria um novo aluno
- `PUT /api/alunos/:id` - Atualiza um aluno existente
- `DELETE /api/alunos/:id` - Remove um aluno

#### Professores
- `GET /api/professores` - Lista todos os professores
- `GET /api/professores/:id` - Busca um professor pelo ID
- `POST /api/professores` - Cria um novo professor
- `PUT /api/professores/:id` - Atualiza um professor existente
- `DELETE /api/professores/:id` - Remove um professor

#### Matr√≠culas
- `GET /api/matriculas` - Lista todas as matr√≠culas (com JOIN para nome do aluno)
- `GET /api/matriculas/:id` - Busca uma matr√≠cula pelo ID
- `POST /api/matriculas` - Cria uma nova matr√≠cula
- `PUT /api/matriculas/:id` - Atualiza uma matr√≠cula existente
- `DELETE /api/matriculas/:id` - Remove uma matr√≠cula

#### Notas
- `GET /api/notas` - Lista todas as notas (com JOIN para nome do aluno)
- `GET /api/notas/:id` - Busca uma nota pelo ID
- `POST /api/notas` - Cria uma nova nota
- `PUT /api/notas/:id` - Atualiza uma nota existente
- `DELETE /api/notas/:id` - Remove uma nota

#### Presen√ßas
- `GET /api/presencas` - Lista todas as presen√ßas (com JOIN para nome do aluno)
- `GET /api/presencas/:id` - Busca uma presen√ßa pelo ID
- `POST /api/presencas` - Cria uma nova presen√ßa
- `PUT /api/presencas/:id` - Atualiza uma presen√ßa existente
- `DELETE /api/presencas/:id` - Remove uma presen√ßa

### Exemplos de Uso

#### Exemplo: Criar um novo aluno
```bash
POST http://localhost/api/alunos
Content-Type: application/json

{
  "nome": "Ana Silva",
  "data_nascimento": "2019-05-20",
  "endereco": "Rua Nova, 456",
  "telefone": "(11) 98888-7777"
}
```

#### Exemplo: Atualizar um professor
```bash
PUT http://localhost/api/professores/1
Content-Type: application/json

{
  "nome": "Maria Silva Santos",
  "email": "maria.santos@escola.com",
  "telefone": "(11) 98765-4321"
}
```

## Banco de Dados

### Estrutura do Banco de Dados
O banco de dados `escola_infantil` cont√©m as seguintes tabelas:

1. **alunos**
   - id (PK)
   - nome
   - data_nascimento
   - endereco
   - telefone
   - created_at
   - updated_at

2. **professores**
   - id (PK)
   - nome
   - email
   - telefone

3. **matriculas**
   - id (PK)
   - aluno_id (FK -> alunos.id)
   - turma
   - data_matricula
   - status
   - created_at
   - updated_at

4. **notas**
   - id (PK)
   - aluno_id (FK -> alunos.id)
   - disciplina
   - valor
   - data_avaliacao
   - observacao
   - created_at
   - updated_at

5. **presencas**
   - id (PK)
   - aluno_id (FK -> alunos.id)
   - data_aula
   - presente
   - observacao
   - created_at
   - updated_at

### Acesso ao Banco de Dados
Para conectar diretamente ao banco MySQL:
- **Host**: localhost
- **Porta**: 3307
- **Usu√°rio**: root
- **Senha**: password
- **Database**: escola_infantil

## Gerenciamento de Containers Docker

### Containers Utilizados
- **escola-app**: Aplica√ß√£o Node.js/Express
- **escola-db**: Banco de dados MySQL
- **escola-nginx**: Servidor web Nginx

### Comandos √öteis

#### Verificar status dos containers
```bash
docker-compose ps
```

#### Ver logs dos containers
```bash
docker logs escola-app
docker logs escola-db
docker logs escola-nginx
```

#### Reiniciar containers
```bash
docker-compose restart
```

#### Parar e remover containers
```bash
docker-compose down
```

#### Reconstruir e iniciar containers
```bash
docker-compose up -d --build
```

## Solu√ß√£o de Problemas

### O sistema n√£o abre no navegador
1. Verifique se digitou o endere√ßo corretamente: http://localhost/api
2. Verifique se o Docker Desktop est√° aberto e rodando
3. Verifique se os containers est√£o rodando: `docker-compose ps`
4. Se n√£o estiverem rodando, tente reiniciar: `docker-compose down && docker-compose up -d --build`
5. Veja os logs para identificar erros: `docker-compose logs`

### Mensagem de erro "porta em uso"
1. Feche outros programas que possam estar usando a porta 80
2. Ou mude a porta no arquivo docker-compose.yml de "80:80" para "8080:80" e acesse http://localhost:8080/api

### Erro de conex√£o com o banco de dados
1. Verifique se o container do banco de dados est√° rodando: `docker ps | findstr escola-db`
2. Se n√£o estiver, reinicie todos os containers
3. Aguarde pelo menos 30 segundos para o banco de dados inicializar completamente

## Dicas para Apresenta√ß√£o do Projeto

### Roteiro de Demonstra√ß√£o
1. **Introdu√ß√£o ao Sistema**
   - Explique o prop√≥sito do sistema (gerenciamento escolar infantil)
   - Apresente a arquitetura geral (Node.js, MySQL, Docker, Nginx)

2. **Demonstra√ß√£o da API**
   - Mostre a API funcionando no navegador (http://localhost/api)
   - Use o Thunder Client para demonstrar as opera√ß√µes CRUD:
     - Listar alunos (GET)
     - Criar um novo aluno (POST)
     - Buscar um aluno espec√≠fico (GET com ID)
     - Atualizar um aluno (PUT)
     - Excluir um aluno (DELETE)

3. **Explica√ß√£o do C√≥digo**
   - Mostre a estrutura MVC do projeto
   - Explique como os controllers se comunicam com os models
   - Destaque o uso de async/await para opera√ß√µes ass√≠ncronas

4. **Demonstra√ß√£o do Docker**
   - Explique como os containers se comunicam
   - Mostre os comandos para gerenciar os containers

## Tecnologias Utilizadas
- **Backend**: Node.js v16.20.2 com Express.js
- **Banco de Dados**: MySQL 8.0.42
- **Containeriza√ß√£o**: Docker e Docker Compose
- **Proxy Reverso**: Nginx 1.29.0
- **Padr√£o de Arquitetura**: MVC (Model-View-Controller)

## Testando com Thunder Client

Para testar a API usando o Thunder Client no VS Code:

1. Instale a extens√£o Thunder Client no VS Code
2. Clique no √≠cone do raio na barra lateral
3. Clique em "New Request"
4. Configure a requisi√ß√£o conforme os exemplos abaixo

### Exemplo: Listar todos os alunos
- M√©todo: **GET**
- URL: `http://localhost/api/alunos`
- Clique em "Send"

### Exemplo: Criar um novo aluno
- M√©todo: **POST**
- URL: `http://localhost/api/alunos`
- V√° para a aba "Body"
- Selecione "JSON"
- Cole o conte√∫do do exemplo acima
- Clique em "Send"